<!DOCTYPE html>
<html>

<head>
    <title>Agregar Paciente</title>
    <link rel="stylesheet" type="text/css" href="index.css">

    <style>
        body {
            background-color: #361E1E;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            height: 100vh;
            margin: 0;
            color: white;
            text-align: center;
        }

        .container {
            width: 100%;
            max-width: 400px;
        }

        form {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        label,
        input,
        select {
            margin: 10px 0;
            width: 100%;
        }

        input[type="submit"] {
            width: auto;
            padding: 10px 20px;
        }
    </style>

    <script>
        function submitForm(event) {
            event.preventDefault();
            var xhr = new XMLHttpRequest();
            xhr.open("POST", '/SM/pacientes', true);
            xhr.setRequestHeader('Content-Type', 'application/json');
            xhr.send(JSON.stringify({
                nombre: document.getElementById('nombre').value,
                apellido: document.getElementById('apellido').value,
                edad: document.getElementById('edad').value,
                razon_asistencia: document.getElementById('razon_asistencia').value
            }));
            xhr.onload = function () {
                if (xhr.status == 200) {
                    alert("Se agregó un nuevo paciente");
                } else {
                    alert("error al agregarse");
                }
            };
        }
    </script>

</head>

<body>
    <h1>Agregar Paciente</h1>
    <form onsubmit="submitForm(event)">
        <label for="nombre">Nombre:</label><br>
        <input type="text" id="nombre" name="nombre"><br>
        <label for="apellido">Apellido:</label><br>
        <input type="text" id="apellido" name="apellido"><br>
        <label for="edad">Edad:</label><br>
        <input type="number" id="edad" name="edad"><br>
        <label for="razon_asistencia">Razón de Asistencia:</label><br>
        <select id="razon_asistencia" name="razon_asistencia">
            <option value=""></option>
            <option value="Cardiologo">Cardiologo</option>
            <option value="Pediatra">Pediatra</option>
            <option value="Dermatologo">Dermatologo</option>
            <option value="Podologo">Podologo</option>
            <option value="Ortopedia">Ortopedia</option>
        </select><br>
        <input type="submit" value="Agregar Paciente">
    </form>

</body>

<footer>
    <button onclick="window.location.href='/';">
        Volver
    </button>
</footer>


</html>